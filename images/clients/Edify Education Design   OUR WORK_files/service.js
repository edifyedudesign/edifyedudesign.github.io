(function(e,t){sumo.define("plugins/css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o=function(){s=document.createElement("style"),e.appendChild(s)},u=function(e,t){o();var n=s.styleSheet||s.sheet;if(n&&n.addImport)n.addImport(e),s.onload=t;else{s.textContent='@import "'+e+'";';var r=setInterval(function(){try{s.sheet.cssRules,clearInterval(r),t()}catch(e){}},10)}},a=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?u:a)(t.toUrl(e+".css"),r)},i}),function(e){typeof sumo.define=="function"&&sumo.define.amd?sumo.define("jquery.cookie",["jquery"],e):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(t," "))}catch(n){return}try{return u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t&&t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==undefined?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||void 0),u=[];sumo.define("plugins/text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),i,s,o="";try{i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&s.charAt(0)===65279&&(s=s.substring(1));for(i.append(s);(s=n.readLine())!==null;)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),a={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return n!==-1&&(t=e.substring(n+1,e.length),t=t==="strip",e=e.substring(0,n)),{moduleName:r,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s;return i?(e=i[2],i=i[3],i=i.split(":"),s=i[1],i=i[0],(!e||e===t)&&(!i||i===n)&&(!s&&!i||s===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&(u[e]=n),r(n)},load:function(e,t,n,u){if(u.isBuild&&!u.inlineText)n();else{var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})}},write:function(e,t,n){if(t in u){var r=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,i){var t=a.parseName(t),s=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";a.load(s,n,function(){var t=function(e){return r(o,e)};t.asModule=function(e,t){return r.asModule(e,o,t)},a.write(e,s,t,i)},i)}}})}(),sumo.define("plugins/text!408190b5-e369-48af-8e31-afb7380ecd66/templates/email_popup.html",[],function(){return'<div class="sumome-smartbar-form" style="padding: 7px 0;">\n  <div class="sumome-smartbar-text"></div>\n  <div class="sumome-smartbar-error"></div>\n  <div class="sumome-smartbar-input">\n    <input type="text" value="" name="smartbar_email_address" id="smartbar_email_address" placeholder="Enter your email address" />\n    <button class="sumome-smartbar-button sumome-smartbar-button-bg sumome-smartbar-button-text" type="submit">Subscribe Me</button>\n  </div>\n  <button class="sumome-smartbar-continue sumome-smartbar-continue-bg sumome-smartbar-continue-text" type="submit" style="display:none;">Continue</button>\n</div>\n'}),sumo.define("jquery.style",["jquery"],function(e){if(e.fn.style)return;var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n=!!CSSStyleDeclaration.prototype.getPropertyValue;n||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,n,r){this.setAttribute(e,n);var r=typeof r!="undefined"?r:"";if(r!=""){var i=new RegExp(t(e)+"\\s*:\\s*"+t(n)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,e+": "+n+" !"+r+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){var n=new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return n.test(this.cssText)?"important":""}),e.fn.style=function(e,t,n){var r=this.get(0);if(typeof r=="undefined")return this;var i=this.get(0).style;return typeof e!="undefined"?typeof t!="undefined"?(n=typeof n!="undefined"?n:"",i.setProperty(e,t,n),this):i.getPropertyValue(e):i}}),function(){var n=this,r=n._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.push,f=s.slice,l=s.concat,c=o.toString,h=o.hasOwnProperty,p=s.forEach,d=s.map,v=s.reduce,m=s.reduceRight,g=s.filter,y=s.every,b=s.some,w=s.indexOf,E=s.lastIndexOf,S=Array.isArray,x=Object.keys,T=u.bind,N=function(e){if(e instanceof N)return e;if(!(this instanceof N))return new N(e);this._wrapped=e};typeof e!="undefined"?(typeof t!="undefined"&&t.exports&&(e=t.exports=N),e._=N):n._=N,N.VERSION="1.5.2";var C=N.each=N.forEach=function(e,t,n){if(e==null)return;if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else{var o=N.keys(e);for(var r=0,s=o.length;r<s;r++)if(t.call(n,e[o[r]],o[r],e)===i)return}};N.map=N.collect=function(e,t,n){var r=[];return e==null?r:d&&e.map===d?e.map(t,n):(C(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var k="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduce===v)return r&&(t=N.bind(t,r)),i?e.reduce(t,n):e.reduce(t);C(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(k);return n},N.reduceRight=N.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(m&&e.reduceRight===m)return r&&(t=N.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=N.keys(e);s=o.length}C(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(k);return n},N.find=N.detect=function(e,t,n){var r;return L(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},N.filter=N.select=function(e,t,n){var r=[];return e==null?r:g&&e.filter===g?e.filter(t,n):(C(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},N.reject=function(e,t,n){return N.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},N.every=N.all=function(e,t,n){t||(t=N.identity);var r=!0;return e==null?r:y&&e.every===y?e.every(t,n):(C(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i}),!!r)};var L=N.some=N.any=function(e,t,n){t||(t=N.identity);var r=!1;return e==null?r:b&&e.some===b?e.some(t,n):(C(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i}),!!r)};N.contains=N.include=function(e,t){return e==null?!1:w&&e.indexOf===w?e.indexOf(t)!=-1:L(e,function(e){return e===t})},N.invoke=function(e,t){var n=f.call(arguments,2),r=N.isFunction(t);return N.map(e,function(e){return(r?t:e[t]).apply(e,n)})},N.pluck=function(e,t){return N.map(e,function(e){return e[t]})},N.where=function(e,t,n){return N.isEmpty(t)?n?void 0:[]:N[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},N.findWhere=function(e,t){return N.where(e,t,!0)},N.max=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&N.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return C(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},N.min=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&N.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return C(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},N.shuffle=function(e){var t,n=0,r=[];return C(e,function(e){t=N.random(n++),r[n-1]=r[t],r[t]=e}),r},N.sample=function(e,t,n){return arguments.length<2||n?e[N.random(e.length-1)]:N.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return N.isFunction(e)?e:function(t){return t[e]}};N.sortBy=function(e,t,n){var r=A(t);return N.pluck(N.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={},s=n==null?N.identity:A(n);return C(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};N.groupBy=O(function(e,t,n){(N.has(e,t)?e[t]:e[t]=[]).push(n)}),N.indexBy=O(function(e,t,n){e[t]=n}),N.countBy=O(function(e,t){N.has(e,t)?e[t]++:e[t]=1}),N.sortedIndex=function(e,t,n,r){n=n==null?N.identity:A(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},N.toArray=function(e){return e?N.isArray(e)?f.call(e):e.length===+e.length?N.map(e,N.identity):N.values(e):[]},N.size=function(e){return e==null?0:e.length===+e.length?e.length:N.keys(e).length},N.first=N.head=N.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:f.call(e,0,t)},N.initial=function(e,t,n){return f.call(e,0,e.length-(t==null||n?1:t))},N.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:f.call(e,Math.max(e.length-t,0))},N.rest=N.tail=N.drop=function(e,t,n){return f.call(e,t==null||n?1:t)},N.compact=function(e){return N.filter(e,N.identity)};var M=function(e,t,n){return t&&N.every(e,N.isArray)?l.apply(n,e):(C(e,function(e){N.isArray(e)||N.isArguments(e)?t?a.apply(n,e):M(e,t,n):n.push(e)}),n)};N.flatten=function(e,t){return M(e,t,[])},N.without=function(e){return N.difference(e,f.call(arguments,1))},N.uniq=N.unique=function(e,t,n,r){N.isFunction(t)&&(r=n,n=t,t=!1);var i=n?N.map(e,n,r):e,s=[],o=[];return C(i,function(n,r){if(t?!r||o[o.length-1]!==n:!N.contains(o,n))o.push(n),s.push(e[r])}),s},N.union=function(){return N.uniq(N.flatten(arguments,!0))},N.intersection=function(e){var t=f.call(arguments,1);return N.filter(N.uniq(e),function(e){return N.every(t,function(t){return N.indexOf(t,e)>=0})})},N.difference=function(e){var t=l.apply(s,f.call(arguments,1));return N.filter(e,function(e){return!N.contains(t,e)})},N.zip=function(){var e=N.max(N.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=N.pluck(arguments,""+n);return t},N.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},N.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=N.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(w&&e.indexOf===w)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},N.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(E&&e.lastIndexOf===E)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},N.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var _=function(){};N.bind=function(e,t){var n,r;if(T&&e.bind===T)return T.apply(e,f.call(arguments,1));if(!N.isFunction(e))throw new TypeError;return n=f.call(arguments,2),r=function(){if(this instanceof r){_.prototype=e.prototype;var i=new _;_.prototype=null;var s=e.apply(i,n.concat(f.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(f.call(arguments)))}},N.partial=function(e){var t=f.call(arguments,1);return function(){return e.apply(this,t.concat(f.call(arguments)))}},N.bindAll=function(e){var t=f.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=N.bind(e[t],e)}),e},N.memoize=function(e,t){var n={};return t||(t=N.identity),function(){var r=t.apply(this,arguments);return N.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},N.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},N.defer=function(e){return N.delay.apply(N,[e,1].concat(f.call(arguments,1)))},N.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},N.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},N.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},N.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},N.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},N.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},N.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)N.has(e,n)&&t.push(n);return t},N.values=function(e){var t=N.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},N.pairs=function(e){var t=N.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},N.invert=function(e){var t={},n=N.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},N.functions=N.methods=function(e){var t=[];for(var n in e)N.isFunction(e[n])&&t.push(n);return t.sort()},N.extend=function(e){return C(f.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},N.pick=function(e){var t={},n=l.apply(s,f.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},N.omit=function(e){var t={},n=l.apply(s,f.call(arguments,1));for(var r in e)N.contains(n,r)||(t[r]=e[r]);return t},N.defaults=function(e){return C(f.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},N.clone=function(e){return N.isObject(e)?N.isArray(e)?e.slice():N.extend({},e):e},N.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof N&&(e=e._wrapped),t instanceof N&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(N.isFunction(o)&&o instanceof o&&N.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=D(e[a],t[a],n,r)))break}else{for(var l in e)if(N.has(e,l)){a++;if(!(f=N.has(t,l)&&D(e[l],t[l],n,r)))break}if(f){for(l in t)if(N.has(t,l)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f};N.isEqual=function(e,t){return D(e,t,[],[])},N.isEmpty=function(e){if(e==null)return!0;if(N.isArray(e)||N.isString(e))return e.length===0;for(var t in e)if(N.has(e,t))return!1;return!0},N.isElement=function(e){return!!e&&e.nodeType===1},N.isArray=S||function(e){return c.call(e)=="[object Array]"},N.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){N["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),N.isArguments(arguments)||(N.isArguments=function(e){return!!e&&!!N.has(e,"callee")}),typeof /./!="function"&&(N.isFunction=function(e){return typeof e=="function"}),N.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},N.isNaN=function(e){return N.isNumber(e)&&e!=+e},N.isBoolean=function(e){return e===!0||e===!1||c.call(e)=="[object Boolean]"},N.isNull=function(e){return e===null},N.isUndefined=function(e){return e===void 0},N.has=function(e,t){return h.call(e,t)},N.noConflict=function(){return n._=r,this},N.identity=function(e){return e},N.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},N.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=N.invert(P.escape);var H={escape:new RegExp("["+N.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(P.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(e){N[e]=function(t){return t==null?"":(""+t).replace(H[e],function(t){return P[e][t]})}}),N.result=function(e,t){if(e==null)return void 0;var n=e[t];return N.isFunction(n)?n.call(e):n},N.mixin=function(e){C(N.functions(e),function(t){var n=N[t]=e[t];N.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),q.call(this,n.apply(N,e))}})};var B=0;N.uniqueId=function(e){var t=++B+"";return e?e+t:t},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(e,t,n){var r;n=N.defaults({},n,N.templateSettings);var i=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(I,function(e){return"\\"+F[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,N);var a=function(e){return r.call(this,e,N)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},N.chain=function(e){return N(e).chain()};var q=function(e){return this._chain?N(e).chain():e};N.mixin(N),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];N.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],q.call(this,n)}}),C(["concat","join","slice"],function(e){var t=s[e];N.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),N.extend(N.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof sumo.define=="function"&&sumo.define.amd&&sumo.define("underscore",[],function(){return N})}.call(this),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(e){return e.noConflict()}),sumo.define("jquery.article",["jquery"],function(e){e.fn.exists=function(){return this.length!==0},e.fn.findLeaves=function(t){var n=e(this);return n.find(t).filter(function(){return!e(this).find(t).exists()})};var t=function(t){var t=t||"body",n=e();return n=e(t).findLeaves("article:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".post:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".entry-content:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".post-content:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".post_box:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".post-item:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".blog-post-wrapper:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".type-post:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves("#content:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).findLeaves(".blog_content:not(.comment, .sidebar *, aside *, #sidebar *, footer *, [class^=footer] *, #comments *, [class^=comment] *, [class^=related-post] *, .archive-page)"),n.length>0?n:(n=e(t).find("p + p + p").parent(),n.length>0?n:n))))))))))},n=function(t){var n=null,r=["header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],i={};try{r.forEach(function(r){n=e(t).find(r);if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0);throw s}return null},r=function(t){var n=null,r=["footer",".post-footer",".footer",'[class^="comment"]:not([class^=comment-count], [class^=comments-link], [class^=comments-number])',".fb-comments"],i={};try{r.forEach(function(r){n=e(t).find(r);if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0).hasClass("fb-comments")&&n.eq(0).prev("h3 + p").length>0?n.eq(0).prev("h3 + p").prev("h3"):n.eq(0);throw s}return null},i=function(e){return n(e)},s=function(t){var n=null,r=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],i={};try{r.forEach(function(r){n=e(t).find(r).filter("[href]");if(n.length>0)throw i})}catch(s){if(s===i)return n.eq(0);throw s}return null};e.articles=function(o){var u=t(o);return u.each(function(){this._header=n(e(this)),this._footer=r(e(this)),this._title=this._header?i(this._header):null,!this._title&&this._header&&(this._title=this._header),this._title?this._titleText=this._title.text().trim():this._titleText=null;var t=this._header?s(this._header):null;t?this._anchor=t:this._anchor=s(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),u=u.filter(function(){return this._header&&this._header.outerHeight()>=e(this).outerHeight()*.666?!1:!0}),"location"in window&&"search"in window.location&&window.location.search.indexOf("smdebug")>=0&&u.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),u},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","underscore","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(n,r){if(n&&n.length){var i=t.findWhere(n,{filter_type:"article"}),s=[];i&&(s=e.articles());var o=function(e){var n=t.pairs(e),r=n.length;return function(e){if(e==null)return!r;e=new Object(e);for(var t=0;t<r;t++){var i=n[t],s=i[0];if(i[1]!==e[s]||!(s in e))return!1}return!0}},u=function(e){var e=e.substr(1).split("&");if(e=="")return{};var t={};for(var n=0;n<e.length;++n){var r=e[n].split("=",2);r.length==1?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t},a=function(e){if(e.has_hash&&e.hash!=d)return!1;if(e.has_query_params){var t=u(e.search),n=u(window.location.search),r=o(t);if(r(n)==0)return!1}return!0},f=t.where(n,{rule_type:"include"}),l=window.location.toString().toLowerCase(),c=window.location.pathname.toString().toLowerCase(),h=window.location.hostname+c;c[c.length-1]=="/"&&(c=c.substring(0,c.length-1),h=h.substring(0,h.length-1)),h.indexOf("www.")==0&&(h=h.substring(4));var p=window.location.search,d=window.location.hash,v=!1;f&&f.length?f.forEach(function(e){if(e.filter_type=="article")s.length&&(v=!0);else if(e.filter_type=="exact"){var t=a(e);t&&(e.full_url?h==e.match_url&&(v=!0):e.match_url==null&&t?v=!0:c==e.match_url&&(v=!0))}else if(e.filter_type=="beginning"){var t=a(e);t&&(e.full_url?h.indexOf(e.match_url)==0&&(v=!0):e.match_url==null&&t?v=!0:c.indexOf(e.match_url)==0&&(v=!0))}else if(e.filter_type=="containing"){var t=a(e);t&&(e.full_url?h.indexOf(e.match_url)>=0&&(v=!0):e.match_url==null&&t?v=!0:c.indexOf(e.match_url)>=0&&(v=!0))}}):v=!0;if(!v)return!1;var m=t.where(n,{rule_type:"exclude"}),g=!1;return!m||!m.length?!0:(m.forEach(function(e){var t=e.has_hash||e.has_query_params;if(e.filter_type=="article")s.length&&(g=!0);else if(e.filter_type=="exact"){var n=!0;t&&(n=a(e));if(e.full_url)n&&h==e.match_url&&(g=!0);else if(n&&c==e.match_url||t&&n&&e.match_url==null)g=!0}else if(e.filter_type=="beginning"){var n=!0;t&&(n=a(e));if(e.full_url)n&&h.indexOf(e.match_url)==0&&(g=!0);else if(n&&c.indexOf(e.match_url)==0||t&&n&&e.match_url==null)g=!0}else if(e.filter_type=="containing"){var n=!0;t&&(n=a(e));if(e.full_url)n&&h.indexOf(e.match_url)>=0&&(g=!0);else if(n&&c.indexOf(e.match_url)>=0||t&&n&&e.match_url==null)g=!0}}),g?!1:!0)}return!0}}),sumo.define("408190b5-e369-48af-8e31-afb7380ecd66/smartbar",["jquery","jquery.cookie","plugins/text!408190b5-e369-48af-8e31-afb7380ecd66/templates/email_popup.html","jquery.style","jquery.displayrules"],function(e,t,n){var r=function(e){var t,n,r,i;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],r=e[2],n=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,r=e>>8&255,n=e&255),i=Math.sqrt(.299*t*t+.587*r*r+.114*n*n),i>127.5?"light":"dark"},i={hasShown:!1,settings:{template:null,templateHtml:null},cookieName:"__smSmartbarShown",subCookieName:"__smSubscribed",ctaCookieName:"__smClicked",originalMarginTop:null,clearMarginTop:!1,deltaMarginTop:0,lastScroll:0,throttledResize:null,throttledSmartShow:null,throttledFixedSticky:null,oldTopElements:null,bumpDownElements:null,changePositionElements:null,textWrapped:!1,wrapWidth:!1,load:function(){e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/smartbar/load",data:{site_id:this.api.properties.siteId},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){e.extend(this.settings,t);var n=!1;if(this.settings.cookie_lifetime_interval=="always"){if(this.settings.bar_modes=="email")var r=e.cookie(this.subCookieName)&&e.cookie(this.subCookieName)==="true";else if(this.settings.bar_modes=="cta")var r=e.cookie(this.ctaCookieName)&&e.cookie(this.ctaCookieName)==="true"}else if(this.settings.bar_modes=="email")var r=e.cookie(this.subCookieName)&&e.cookie(this.subCookieName)==="true"||e.cookie(this.cookieName)&&e.cookie(this.cookieName)==="true";else if(this.settings.bar_modes=="cta")var r=e.cookie(this.ctaCookieName)&&e.cookie(this.ctaCookieName)==="true"||e.cookie(this.cookieName)&&e.cookie(this.cookieName)==="true";else var r=e.cookie(this.cookieName)&&e.cookie(this.cookieName)==="true";var i=window.location.toString().toLowerCase(),s=window.location.pathname.toString().toLowerCase();s.length>1&&s[s.length-1]=="/"&&(s=s.substring(0,s.length-1)),e.isCurrentUrlAllowed(this.settings.display_rules)&&!r&&this.install()}},this))},install:function(){this.show()},shadeColor:function(e,t){e=e.toString();var n=parseInt(e.slice(1),16),r=Math.round(2.55*t),i=(n>>16)+r,s=(n>>8&255)+r,o=(n&255)+r;return"#"+(16777216+(i<255?i<1?0:i:255)*65536+(s<255?s<1?0:s:255)*256+(o<255?o<1?0:o:255)).toString(16).slice(1)},resizeHandler:function(){if(this.$smartbar){var t=this.$smartbar.outerHeight(),n=t-this.deltaMarginTop;this.deltaMarginTop+=n,e("body").css("padding-top","+="+n),e("body").style("padding-top",e("body")[0].style.paddingTop,"important"),this.$smartbar.attr("style").indexOf("absolute")>=0?this.throttledFixedSticky?this.fixedStickyHandler():(this.$smartbar.style("top","0px"),this.oldTopElements&&this.oldTopElements.length&&this.oldTopElements.each(e.proxy(function(t,n){e(n).style("top",this.$smartbar.outerHeight()+parseFloat(e(n).data("sumome-smartbar-original-offset").top)+"px")},this))):this.throttledSmartShow&&this.smartShow(!0),!this.textWrapped&&e(".sumome-smartbar-input")&&e(".sumome-smartbar-input").length&&e(".sumome-smartbar-text")&&e(".sumome-smartbar-text").length&&e(".sumome-smartbar-input").offset().top>e(".sumome-smartbar-text").offset().top+20&&(this.textWrapped=this.$inputEl.css("width"),this.$smartbar.find(".sumome-smartbar-input").style("width","100%"),this.$textEl.hide(),this.$errorEl.hide(),this.$inputEl.style("width","50%"),this.$buttonEl.style("width","48%"),this.$smartbar.find(".sumome-smartbar-link").hide(),this.$smartbar.find(".sumome-smartbar-content").css("padding-left","4px"))}},resizeDebounceHandler:function(){if(this.textWrapped){var t=e("<span>"+this.$inputEl.attr("placeholder")+"</span>").css({display:"none","font-family":this.$inputEl.css("font-family"),"font-size":this.$inputEl.css("font-size")}).appendTo("body"),n=Math.max(100,parseFloat(t.css("width"))+26)+"px";t.remove(),this.textWrapped=!1,this.$textEl.show(),this.$errorEl.show(),this.$smartbar.find(".sumome-smartbar-link").show(),this.$smartbar.find(".sumome-smartbar-content").css("padding-left","49px"),this.$smartbar.find(".sumome-smartbar-input").style("width","auto"),this.$inputEl.style("width",n),this.$buttonEl.style("width","auto"),!this.textWrapped&&e(".sumome-smartbar-input")&&e(".sumome-smartbar-input").length&&e(".sumome-smartbar-text")&&e(".sumome-smartbar-text").length&&e(".sumome-smartbar-input").offset().top>e(".sumome-smartbar-text").offset().top+20&&(this.textWrapped=this.$inputEl.css("width"),this.$smartbar.find(".sumome-smartbar-input").style("width","100%"),this.$textEl.hide(),this.$errorEl.hide(),this.$inputEl.style("width","50%"),this.$buttonEl.style("width","48%"),this.$smartbar.find(".sumome-smartbar-link").hide(),this.$smartbar.find(".sumome-smartbar-content").css("padding-left","4px"))}},fixedStickyHandler:function(){var t=e(window).scrollTop(),n=this.oldTopElements.filter(e.proxy(function(n,r){if(parseFloat(e("body").css("padding-top"))-(e(r).data("sumome-smartbar-original-offset")?parseFloat(e(r).data("sumome-smartbar-original-offset").top):0)<=t)return e.inArray(r,this.changePositionElements)>=0&&(parseFloat(e(r).css("top"))!=e(r).data("sumome-smartbar-offset").top||parseFloat(e(r).css("left"))!=e(r).data("sumome-smartbar-offset").left)?!0:e(r).data("sumome-smartbar-offset")?e(r).css("position")!="fixed"||parseInt(e(r).css("top"))!=e(r).data("sumome-smartbar-offset").top:e(r).css("position")!="fixed"||parseInt(e(r).css("top"))!=parseInt(e(r).data("sumome-smartbar-original-offset").top)},this));n&&n.length&&n.each(e.proxy(function(t,n){e(n).style("position",e(n).data("sumome-smartbar-original-position")),e(n).data("sumome-smartbar-offset")?(e(n).style("top",e(n).data("sumome-smartbar-offset").top+"px"),e(n).style("left",e(n).data("sumome-smartbar-offset").left+"px")):e(n).data("sumome-smartbar-original-offset")&&e(n).style("top",(e(n).data("sumome-smartbar-original-position")=="fixed"?0:parseFloat(this.$smartbar.outerHeight()))+parseFloat(e(n).data("sumome-smartbar-original-offset").top)+"px")},this)),newlyabsolute=this.oldTopElements.filter(e.proxy(function(n,r){if(parseFloat(e("body").css("padding-top"))-(e(r).data("sumome-smartbar-original-offset")?parseFloat(e(r).data("sumome-smartbar-original-offset").top):0)>t)return e(r).css("position")=="fixed"&&e.inArray(r,this.changePositionElements)>=0&&(!e(r).data("sumome-smartbar-new-offset")||parseFloat(e(r).css("top"))!=e(r).data("sumome-smartbar-new-offset").top||parseFloat(e(r).css("left"))!=e(r).data("sumome-smartbar-new-offset").left)?!0:(e(r).css("position")!="absolute"||parseFloat(e(r).css("top"))!=this.$smartbar.outerHeight())&&parseFloat(e("body").css("padding-top"))>t},this));if(newlyabsolute&&newlyabsolute.length){var r=newlyabsolute.filter(e.proxy(function(t,n){return this.bumpDownElements.index(e(n))!=-1},this));r&&r.length&&r.each(e.proxy(function(t,n){var r=!1;if(e.inArray(n,this.changePositionElements)>=0){r=!0;var i=e(n).data("sumome-smartbar-offset")}e(n).style("position","absolute");if(r){if(!e(n).data("sumome-smartbar-new-offset")){var i=e(n).offset();e(n).data("sumome-smartbar-new-offset",{top:parseFloat(e(n).css("top"))+this.$smartbar.outerHeight()+e(n).data("sumome-smartbar-offset").top-i.top,left:parseFloat(e(n).css("left"))+e(n).data("sumome-smartbar-offset").left-i.left})}e(n).style("top",e(n).data("sumome-smartbar-new-offset").top+"px"),e(n).style("left",e(n).data("sumome-smartbar-new-offset").left+"px")}else e(n).style("top",this.$smartbar.outerHeight()+"px")},this))}},smartShow:function(t){var n=e(window).scrollTop(),r=this.$smartbar.outerHeight();if(Math.abs(this.lastScroll-n)<=5&&!t)return;n>this.lastScroll&&n>r?(this.lastScroll=n,this.$smartbar.css("top")!="-"+r+"px"&&(this.$smartbar.style("top","-"+r+"px"),this.oldTopElements&&this.oldTopElements.length&&this.oldTopElements.each(e.proxy(function(t,n){e(n).data("sumome-smartbar-original-offset")?e(n).style("top",(e(n).data("sumome-smartbar-original-position")=="fixed"?0:r)+parseFloat(e(n).data("sumome-smartbar-original-offset").top)+"px"):e(n).style("top","0px")},this)))):(this.lastScroll=n,this.$smartbar.css("top")!="0px"&&n+e(window).height()<e(document).height()&&(this.$smartbar.style("top","0px"),this.oldTopElements&&this.oldTopElements.length&&this.oldTopElements.each(e.proxy(function(t,n){e(n).data("sumome-smartbar-original-offset")?e(n).style("top",r+parseFloat(e(n).data("sumome-smartbar-original-offset").top)+"px"):e(n).style("top",r+"px")},this))))},show:function(t,i,s){if(this.hasShown&&!i)return;if(this.$smartbar){if(i){this.close(!0,t);return}return}e("body")&&e("body").length&&e("body")[0].style.marginTop?(this.clearMarginTop=!1,this.originalMarginTop=e("body")[0].style.marginTop):this.clearMarginTop=!0,this.oldTopElements=e("*").filter(e.proxy(function(t,n){return e(n).data("sumome-smartbar-original-position",e(n).css("position")),e(n).data("sumome-smartbar-original-offset",{top:e(n).css("top"),left:e(n).css("left"),bottom:e(n).css("bottom"),right:e(n).css("right")}),["absolute","fixed"].indexOf(e(n).css("position"))>=0&&e(n).position().top<51&&e(n).attr("id")!="sumome-modal-mask"},this)),this.oldTopElements=this.oldTopElements.filter(e.proxy(function(t,n){if(e(n).css("position")=="fixed")return!0;var r=e(n).parents().filter(e.proxy(function(t,n){return!e(n).is("body,html")&&["relative","fixed","absolute"].indexOf(e(n).css("position"))>=0},this));return!r||!r.length},this)),this.bumpDownElements=this.oldTopElements.filter(e.proxy(function(t,n){var r=!1;return e(n).css("position")=="fixed"?!0:(e(n).parents().each(e.proxy(function(t,n){if(!e(n).is("body,html")&&["relative","absolute"].indexOf(e(n).css("position"))>=0)return r=!0,!1},this)),!r)},this)),this.changePositionElements=this.bumpDownElements.filter(e.proxy(function(t,n){var r=!1;return e(n).css("position")=="fixed"?(e(n).parents().each(e.proxy(function(t,n){if(!e(n).is("body,html")&&["relative","absolute","fixed"].indexOf(e(n).css("position"))>=0)return r=!0,!1},this)),r&&e(n).data("sumome-smartbar-offset",{top:e(n).offset().top-e(window).scrollTop(),left:e(n).offset().left-e(window).scrollLeft()}),r):!1},this));var o=function(e,t){var n;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(r,i)},t),n||e.apply(r,i)}},u=function(e,t){var n,r,i,s=null,o=0,u=function(){o=(new Date).getTime(),s=null,i=e.apply(n,r),s||(n=r=null)};return function(){var a=(new Date).getTime();o||(o=a);var f=t-(a-o);return n=this,r=arguments,f<=0||f>t?(clearTimeout(s),s=null,o=a,i=e.apply(n,r),s||(n=r=null)):s||(s=setTimeout(u,f)),i}};t=t||this.settings;if(!i){var a=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(t.device_mode=="mobile"&&a>480)return;if(t.device_mode=="desktop"&&a<=480)return}if(!i){this.hasShown=!0;if(t.cookie_lifetime!==-1){var f=new Date;switch(t.cookie_lifetime_interval){case"minute":f.setMinutes(f.getMinutes()+this.settings.cookie_lifetime);break;case"hour":f.setHours(f.getHours()+this.settings.cookie_lifetime);break;case"day":f.setDate(f.getDate()+this.settings.cookie_lifetime);break;case"month":f.setMonth(f.getMonth()+this.settings.cookie_lifetime);break;case"year":f.setFullYear(f.getFullYear()+this.settings.cookie_lifetime);break;case"always":f.setMinutes(f.getMinutes())}e.cookie(this.cookieName,t.cookie_lifetime=="always"?!1:!0,{expires:f,path:"/"})}this.api.emit("event",{appId:"408190b5-e369-48af-8e31-afb7380ecd66",event:t.bar_modes=="email"?"popup":t.bar_modes})}else t.show_type=="static"&&e(window).scrollTop(0);var l=r(t.modal_color);this.$smartbar=e("<div />").attr("id","sumome-smartbar-popup").addClass("sumome-smartbar-popup").data("sumome-smartbar-config",t),(!("pro"in t)||!t.pro)&&this.$smartbar.append('<a class="sumome-smartbar-link" href="http://sumome.com/?src=sm-ba-'+this.api.properties.siteId+'" target="_blank"><img class="sumome-icon" src="'+this.api.properties.sumoUrl+"/client/images/apps/408190b5-e369-48af-8e31-afb7380ecd66/transparent-crown-"+l+'.png"></a>'),i?this.$smartbar.style("z-index",10000002):this.$smartbar.style("z-index",9999999),t.show_type=="static"?(this.$smartbar.style("position","absolute"),this.oldTopElements&&this.oldTopElements.length&&(this.throttledFixedSticky=u(this.fixedStickyHandler,100),e(window).scroll(e.proxy(this.throttledFixedSticky,this)))):this.$smartbar.style("position","fixed"),this.$smartbar.style("background-color",t.modal_color,"important");var c=e("<a />").addClass("sumome-smartbar-close").style("color",t.text_color,"important").appendTo(this.$smartbar);c.on("click",e.proxy(function(){this.close()},this)),t.advanced_form?e("<div />").addClass("sumome-smartbar-content").html(t.advanced_form).appendTo(this.$smartbar).css({paddingTop:"8px",paddingBottom:"8px",height:"51px",overflow:"hidden"}):t.smartBarTemplate?(e("<div />").addClass("sumome-smartbar-content").html(t.smartBarTemplate.html).appendTo(this.$smartbar),this.$smartbar.find(".sumome-smartbar-modal-bg").style("background-color",t.modal_color,"important"),this.findAndStyleElements(),this.$textEl.html(t.blurb_text),this.$buttonEl.text(t.button_text)):(e("<div />").addClass("sumome-smartbar-content").html(n).appendTo(this.$smartbar),this.findAndStyleElements(),this.$textEl.html(t.blurb_text),this.$buttonEl.text(t.button_text)),t.shadow&&this.$smartbar.addClass("sumome-smartbar-shadow"),this.$smartbar.prependTo(e(document.body));if(!t.advanced_form){if(this.$inputEl.attr("placeholder")&&this.$inputEl.attr("placeholder").length){var h=e("<span>"+t.placeholder_text+"</span>").css({display:"none","font-family":this.$inputEl.css("font-family"),"font-size":this.$inputEl.css("font-size")}).appendTo("body");this.$inputEl.width(Math.max(100,h.width()+10)),h.remove()}e(".sumome-smartbar-input").offset().top>e(".sumome-smartbar-text").offset().top+20&&(this.textWrapped=this.$inputEl.css("width"),this.$smartbar.find(".sumome-smartbar-input").style("width","100%"),this.$textEl.hide(),this.$errorEl.hide(),this.$inputEl.style("width","50%"),this.$buttonEl.style("width","48%"),this.$smartbar.find(".sumome-smartbar-link").hide(),this.$smartbar.find(".sumome-smartbar-content").css("padding-left","4px"))}var p=this.$smartbar.outerHeight();this.$smartbar.find(".sumome-smartbar-link").css("top",(p-46)/2),this.$smartbar.find(".sumome-smartbar-close").css("top",(p-42)/2),this.deltaMarginTop=p,e("body").css("padding-top","+="+p),e("body").style("padding-top",e("body")[0].style.paddingTop,"important"),t.show_type=="smart"&&(this.$smartbar.style("transition","top .2s ease-in-out"),this.oldTopElements.addClass("sumome-smartbar-fixedTopSmart")),t.show_type=="static"?(this.$smartbar.style("top","0px"),e(window).scrollTop()<=p&&this.bumpDownElements&&this.bumpDownElements.length&&this.bumpDownElements.each(e.proxy(function(t,n){var r=!1;if(e.inArray(n,this.changePositionElements)>=0){r=!0;var i=e(n).offset()}e(n).style("position","absolute"),r?(e(n).data("sumome-smartbar-new-offset",{top:this.$smartbar.outerHeight()+i.top-e(n).offset().top,left:i.left-e(n).offset().left}),e(n).style("top",e(n).data("sumome-smartbar-new-offset").top+"px"),e(n).style("left",e(n).data("sumome-smartbar-new-offset").left+"px")):e(n).style("top",p+"px")},this))):this.oldTopElements&&this.oldTopElements.length&&this.oldTopElements.each(e.proxy(function(t,n){e(n).style("top",p+parseFloat(e(n).data("sumome-smartbar-original-offset").top)+"px")},this)),this.throttledResize=u(this.resizeHandler,150),e(window).resize(e.proxy(this.throttledResize,this)),this.debouncedResize=o(this.resizeDebounceHandler,150),e(window).resize(e.proxy(this.debouncedResize,this)),t.show_type=="smart"&&(this.throttledSmartShow=u(this.smartShow,200),e(window).scroll(e.proxy(this.throttledSmartShow,this))),(!i||s)&&!t.advanced_form&&(this.$buttonEl.data("sumome-disabled",!0),this.$inputEl.on("keyup change paste",e.proxy(function(e){var t=/^[\+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,n=this.$inputEl.val().trim();t.test(n)?this.$buttonEl.data("sumome-disabled",!1):this.$buttonEl.data("sumome-disabled",!0)},this)),this.$inputEl.on("keydown",e.proxy(function(e){e.keyCode===13&&(this.$buttonEl.data("sumome-disabled")?(this.$smartbar.removeClass("sumome-animated sumome-shake"),this.$smartbar.get(0).offsetWidth=this.$smartbar.get(0).offsetWidth,this.$smartbar.addClass("sumome-animated sumome-shake")):this.$buttonEl.trigger("click"))},this)),this.$buttonEl.on("click",e.proxy(function(){if(this.settings.bar_modes=="cta"){this.api.emit("event",{appId:"408190b5-e369-48af-8e31-afb7380ecd66",event:"click"});var t=new Date;t.setFullYear(t.getFullYear()+10),e.cookie(this.ctaCookieName,!0,{expires:t,path:"/"}),this.settings.cta_url?setTimeout(e.proxy(function(){window.location=this.settings.cta_url},this),1e3):this.close()}else if(this.settings.bar_modes!="twitter-follow"&&this.settings.bar_modes!="facebook-like"&&this.settings.bar_modes=="email")if(!this.$buttonEl.data("sumome-disabled")){var n=this.$inputEl.val().trim();this.logEmail(n)}else this.$smartbar.removeClass("sumome-animated sumome-shake"),this.$smartbar.get(0).offsetWidth=this.$smartbar.get(0).offsetWidth,this.$smartbar.addClass("sumome-animated sumome-shake")},this)));var d=this.$smartbar.outerHeight(),a=this.$smartbar.outerWidth()},logEmail:function(t){this.$buttonEl.prop("disabled","disabled"),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/list/subscribe",data:{site_id:this.api.properties.siteId,app_id:"408190b5-e369-48af-8e31-afb7380ecd66",email_address:t},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(n){if(n&&"success"in n&&n.success){this.api.emit("event",{appId:"408190b5-e369-48af-8e31-afb7380ecd66",event:"subscribe"});var r=new Date;r.setFullYear(r.getFullYear()+10),e.cookie(this.subCookieName,!0,{expires:r,path:"/"});if(this.settings.subscribe_redirect_url)if(this.settings.subscribe_redirect_method=="post"){var i=e("<form />").attr("method","post").attr("action",this.settings.subscribe_redirect_url);if(this.settings.subscribe_redirect_variable){var s=e("<input />").attr("type","text").attr("name",this.settings.subscribe_redirect_variable).val(t);i.append(s)}e(document.body).append(i),setTimeout(function(){i.trigger("submit")},1e3)}else if(this.settings.subscribe_redirect_method=="get"){var o=this.settings.subscribe_redirect_url;if(this.settings.subscribe_redirect_variable){var u={};o.indexOf("?")>0?o+="&":o+="?",u[this.settings.subscribe_redirect_variable]=t,o+=e.param(u)}setTimeout(function(){window.location=o},1e3)}else setTimeout(e.proxy(function(){window.location=this.settings.subscribe_redirect_url},this),1e3);else this.continueContent()}else n&&"error"in n?(this.$errorEl.text(n.error).show(),this.$textEl.hide(),setTimeout(e.proxy(function(){this.$buttonEl.prop("disabled",!1)},this),1e3)):this.close()},this))},continueContent:function(){this.$smartbar.find(".sumome-smartbar-input").hide(),this.$smartbar.find(".sumome-smartbar-continue").show(),this.findAndStyleElements(),this.$textEl.html(this.settings.continue_blurb_text),this.$continueButtonEl.text(this.settings.continue_button_text),this.$continueButtonEl.on("click",e.proxy(function(){this.close()},this)),this.resizeHandler(),this.resizeDebounceHandler(),setTimeout(e.proxy(function(){this.$continueButtonEl.trigger("click")},this),1e4)},findAndStyleElements:function(){var e=this.$smartbar.data("sumome-smartbar-config"),t=this.shadeColor(e.button_back_color,-10);this.$textEl=this.$smartbar.find(".sumome-smartbar-text"),this.$textEl.style("color",e.text_color,"important"),this.$inputEl=this.$smartbar.find("input[type=text]#smartbar_email_address"),this.$inputEl.attr("placeholder",e.placeholder_text),this.$buttonEl=this.$smartbar.find(".sumome-smartbar-button"),this.$errorEl=this.$smartbar.find(".sumome-smartbar-form .sumome-smartbar-error").style("color",e.text_color,"important").hide(),this.$buttonEl.style("background-color",e.button_back_color,"important").style("color",e.button_fore_color,"important").style("border-bottom-color",t,"important"),this.$continueButtonEl=this.$smartbar.find(".sumome-smartbar-continue"),this.$continueButtonEl.style("background-color",e.button_back_color,"important").style("color",e.button_fore_color,"important").style("border-bottom-color",t,"important"),this.settings.bar_modes=="cta"?this.$inputEl.hide():this.settings.bar_modes=="twitter-follow"?(this.$inputEl.hide(),this.$buttonEl.hide().after('<iframe class="sumome-smartbar-social" src="//platform.twitter.com/widgets/follow_button.html?screen_name='+encodeURIComponent(e.twitter_username?e.twitter_username:"SumoMe")+'" style="width:300px;height:20px;position:relative;margin-top:-10px;top:50%;display:block;" allowtransparency="true" frameborder="0" scrolling="no"></iframe>')):this.settings.bar_modes=="facebook-like"&&(this.$inputEl.hide(),this.$buttonEl.hide().after('<iframe src="//www.facebook.com/plugins/like.php?href='+encodeURIComponent(e.facebook_like_url?e.facebook_like_url:"http://www.facebookcom/sumome")+'&amp;width=300&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=false&amp;height=21&amp;appId=859406404089021" scrolling="no" frameborder="0" style="border:none;overflow:hidden;width:300px;height:21px;position:relative;margin-top:-10px;top:50%;display:block;" allowTransparency="true"></iframe>'))},close:function(t,n){var r=this.$smartbar.data("sumome-smartbar-config");e(".sumome-smartbar-fixedTopSmart").removeClass(".sumome-smartbar-fixedTopSmart"),r.show_type=="static"&&this.bumpDownElements&&this.bumpDownElements.length&&this.bumpDownElements.each(e.proxy(function(t,n){var r=!1;if(e.inArray(n,this.changePositionElements)>=0){r=!0;var i=e(n).offset()}e(n).style("position",e(n).data("sumome-smartbar-original-position")),r?(e(n).style("top",e(n).data("sumome-smartbar-offset").top+"px"),e(n).style("left",e(n).data("sumome-smartbar-offset").left+"px")):e(n).style("top","0px")},this)),e(window).off("resize",this.throttledResize),this.throttledSmartShow&&(e(window).off("scroll",this.throttledSmartShow),this.throttledSmartShow=null),this.throttledFixedSticky&&(e(window).off("scroll",this.throttledFixedSticky),this.throttledFixedSticky=null),this.clearMarginTop?e("body").css("padding-top",""):e("body").css("padding-top",this.originalMarginTop),this.oldTopElements&&this.oldTopElements.length&&this.oldTopElements.each(e.proxy(function(t,n){e(n).data("sumome-smartbar-original-offset")?(e(n).style("top",e(n).data("sumome-smartbar-original-offset").top),e(n).style("left",e(n).data("sumome-smartbar-original-offset").left),e(n).style("bottom",e(n).data("sumome-smartbar-original-offset").bottom),e(n).style("right",e(n).data("sumome-smartbar-original-offset").right)):e(n).style("top","0px")},this)),this.$smartbar.remove(),this.$smartbar=null,"closeCallback"in r&&r.closeCallback.call(this),t==1&&(this.hasShown=!1,this.show(n))}};return i}),sumo.define("408190b5-e369-48af-8e31-afb7380ecd66/service",["jquery","408190b5-e369-48af-8e31-afb7380ecd66/smartbar"],function(e,t){return function(e){var n=function(n,r){sumo.require(["plugins/css!../css/sumome-smartbar-popup.css"],function(){t.api=e,t.load(),r()})},r=function(e){e()};return{init:n,destroy:r}}}),sumo.define("408190b5-e369-48af-8e31-afb7380ecd66/service",function(){})})(undefined,undefined);